<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Tree - Simpsons Cartoon</title>
    <link rel="stylesheet" href="ftree-default.css">
</head>
<body>
    <div class="ftree-container">
        <header class="ftree-header">
            <h1>Family Tree - Simpsons Cartoon</h1>
            <div class="ftree-controls">
                <button id="expand-all">Expand All</button>
                <button id="collapse-all">Collapse All</button>
                <input type="search" id="search-box" placeholder="Search names...">
            </div>
        </header>
        
        <main class="ftree-main">
            <div class="family-tree"><div class="family-unit"><div class="parents"><div class="couple"><div class="person-card husband" data-person-id="@Abraham_Simpson@"><h3 class="person-name">Abraham Simpson</h3></div>
<div class="person-card wife" data-person-id="@Mona_Simpson@"><h3 class="person-name">Mona Simpson</h3></div></div></div><div class="children"><div class="children-container"><button class="toggle-children" data-expanded="true">▼ Children</button><div class="children-list"><div class="child-branch"><div class="person-card child" data-person-id="@Homer_Simpson@"><h3 class="person-name">Homer Simpson</h3></div><div class="descendant-family"><div class="descendant-unit"><div class="spouse"><div class="person-card wife" data-person-id="@Marge_Simpson@"><h3 class="person-name">Marge Simpson</h3></div></div><div class="children-container"><button class="toggle-children" data-expanded="true">▼ Children</button><div class="children-list"><div class="child-branch"><div class="person-card child" data-person-id="@Bart_Simpson@"><h3 class="person-name">Bart Simpson</h3></div></div><div class="child-branch"><div class="person-card child" data-person-id="@Maggie_Simpson@"><h3 class="person-name">Maggie Simpson</h3></div></div><div class="child-branch"><div class="person-card child" data-person-id="@Lisa_Simpson@"><h3 class="person-name">Lisa Simpson</h3></div></div></div></div></div></div></div></div></div></div></div></div>
<div class="family-tree"><div class="family-unit"><div class="parents"><div class="couple"><div class="person-card husband" data-person-id="@Clancy_Bouvier@"><h3 class="person-name">Clancy Bouvier</h3></div>
<div class="person-card wife" data-person-id="@Jacqueline_Bouvier@"><h3 class="person-name">Jacqueline Bouvier</h3></div></div></div><div class="children"><div class="children-container"><button class="toggle-children" data-expanded="true">▼ Children</button><div class="children-list"><div class="child-branch"><div class="person-card child" data-person-id="@Patty_Bouvier@"><h3 class="person-name">Patty Bouvier</h3></div></div><div class="child-branch"><div class="person-card child" data-person-id="@Selma_Bouvier@"><h3 class="person-name">Selma Bouvier</h3></div></div></div></div></div></div></div>
        </main>
        
        <div id="person-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="person-details"></div>
            </div>
        </div>
    </div>
    
    <script>
        
// Family tree interactivity
document.addEventListener('DOMContentLoaded', function() {
    // Toggle children visibility
    document.querySelectorAll('.toggle-children').forEach(button => {
        button.addEventListener('click', function() {
            const isExpanded = this.dataset.expanded === 'true';
            const childrenList = this.nextElementSibling;
            
            if (isExpanded) {
                childrenList.style.display = 'none';
                this.textContent = '▶ Children';
                this.dataset.expanded = 'false';
            } else {
                childrenList.style.display = 'block';
                this.textContent = '▼ Children';
                this.dataset.expanded = 'true';
            }
        });
    });
    
    // Expand/Collapse all controls
    document.getElementById('expand-all')?.addEventListener('click', function() {
        document.querySelectorAll('.toggle-children').forEach(button => {
            const childrenList = button.nextElementSibling;
            childrenList.style.display = 'block';
            button.textContent = '▼ Children';
            button.dataset.expanded = 'true';
        });
    });
    
    document.getElementById('collapse-all')?.addEventListener('click', function() {
        document.querySelectorAll('.toggle-children').forEach(button => {
            const childrenList = button.nextElementSibling;
            childrenList.style.display = 'none';
            button.textContent = '▶ Children';
            button.dataset.expanded = 'false';
        });
    });
    
    // Search functionality
    const searchBox = document.getElementById('search-box');
    if (searchBox) {
        searchBox.addEventListener('input', function() {
            const query = this.value.toLowerCase();
            document.querySelectorAll('.person-card').forEach(card => {
                const name = card.querySelector('.person-name').textContent.toLowerCase();
                const match = name.includes(query);
                card.style.display = match || query === '' ? 'block' : 'none';
                
                // Highlight matches
                const nameElement = card.querySelector('.person-name');
                if (query && match) {
                    const regex = new RegExp(`(${query})`, 'gi');
                    nameElement.innerHTML = nameElement.textContent.replace(regex, '<mark>$1</mark>');
                } else {
                    nameElement.innerHTML = nameElement.textContent;
                }
            });
        });
    }
    
    // Person card click for detailed view
    document.querySelectorAll('.person-card').forEach(card => {
        card.addEventListener('click', function() {
            const personId = this.dataset.personId;
            showPersonDetails(personId);
        });
    });
    
    // Modal functionality
    const modal = document.getElementById('person-modal');
    const closeBtn = document.querySelector('.close');
    
    if (closeBtn) {
        closeBtn.addEventListener('click', function() {
            modal.style.display = 'none';
        });
    }
    
    window.addEventListener('click', function(event) {
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });
});

function showPersonDetails(personId) {
    // This would be populated with detailed person information
    const modal = document.getElementById('person-modal');
    const detailsDiv = document.getElementById('person-details');
    
    // For now, just show basic info
    const personCard = document.querySelector(`[data-person-id="${personId}"]`);
    if (personCard) {
        detailsDiv.innerHTML = '<h2>Person Details</h2>' + personCard.innerHTML;
        modal.style.display = 'block';
    }
}

    </script>
</body>
</html>